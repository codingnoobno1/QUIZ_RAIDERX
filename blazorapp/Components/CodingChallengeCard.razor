@* blazorapp/Components/CodingChallengeCard.razor *@

<div class="challenge-card-wrapper" style="--color: @Color;">
    <GlassCard>
        <div class="challenge-inner">
            <div class="card-header">
                <div class="difficulty-level">
                    @for (int i = 0; i < 3; i++)
                    {
                        <div class="bar @(i < Difficulty ? "active" : "")"></div>
                    }
                </div>
                <div class="points">
                    <span class="p-icon">âš¡</span> @Points XP
                </div>
            </div>

            <h4 class="challenge-title">@Title</h4>
            
            <div class="tech-stack">
                @foreach (var tech in TechStack)
                {
                    <span class="tech-tag">@tech</span>
                }
            </div>

            <div class="stats-footer">
                <div class="stat">
                    <span class="s-label">SOLVED</span>
                    <span class="s-value">@SolvedCount</span>
                </div>
                <div class="stat">
                    <span class="s-label">SUCCESS</span>
                    <span class="s-value">@SuccessRate%</span>
                </div>
            </div>

            <button class="neon-button full-width">INITIALIZE RUN</button>
            
            @* The Terminal Underlay (Visual Deco) *@
            <div class="terminal-deco">
                <code>01011001 01101111 01110101</code>
            </div>
        </div>
    </GlassCard>
</div>

<style>
    .challenge-card-wrapper {
        font-family: 'Space Grotesk', sans-serif;
    }

    .challenge-inner {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .difficulty-level {
        display: flex;
        gap: 4px;
    }

    .difficulty-level .bar {
        width: 12px;
        height: 4px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 2px;
    }

    .difficulty-level .bar.active {
        background: var(--color);
        box-shadow: 0 0 5px var(--color);
    }

    .points {
        font-family: monospace;
        font-size: 0.75rem;
        color: #fff;
    }

    .p-icon { color: #FFD700; }

    .challenge-title {
        color: #fff;
        margin: 0;
        font-size: 1.15rem;
        letter-spacing: 1px;
        font-weight: 800;
    }

    .tech-stack {
        display: flex;
        gap: 10px;
    }

    .tech-tag {
        font-family: monospace;
        font-size: 0.6rem;
        color: rgba(255, 255, 255, 0.4);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 2px 8px;
        border-radius: 4px;
    }

    .stats-footer {
        display: flex;
        justify-content: space-around;
        background: rgba(0, 0, 0, 0.3);
        padding: 10px;
        border-radius: 8px;
        margin: 0.5rem 0;
    }

    .stat {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .s-label { font-size: 0.5rem; color: rgba(255, 255, 255, 0.3); letter-spacing: 1px; }
    .s-value { font-size: 0.85rem; color: #fff; font-weight: bold; }

    .full-width { width: 100%; border-radius: 8px; }

    .terminal-deco {
        position: absolute;
        bottom: 5px;
        right: 10px;
        font-size: 0.5rem;
        color: rgba(255, 255, 255, 0.03);
        font-family: monospace;
        pointer-events: none;
    }
</style>

@code {
    [Parameter] public string Title { get; set; } = "BITWISE PARITY SORT";
    [Parameter] public int Difficulty { get; set; } = 2; // 1-3
    [Parameter] public int Points { get; set; } = 250;
    [Parameter] public List<string> TechStack { get; set; } = new() { "C#", "ALGO" };
    [Parameter] public int SolvedCount { get; set; } = 1240;
    [Parameter] public int SuccessRate { get; set; } = 88;
    [Parameter] public string Color { get; set; } = "#00FFFF";
}
